<!DOCTYPE html>
<html>
<head>
<title>让TextView中展示的表情正确朗读（已正则表达式替代方式展示的表情）</title>
<link href="style.css" type="text/css" rel="Stylesheet"/>
<meta charset="utf-8">
<style type="text/css">
</style>
<script type="text/javascript" src="js/jquery.js"></script>
<script type="text/javascript" src="js/jquery.zclip.min.js"></script>
<script type="text/javascript">
$(function(){ 
    $('#copy_input1').zclip({ 
        path: 'js/ZeroClipboard.swf', 
        copy: function(){//复制内容 
            return $('#code1').val(); 
        }, 
        afterCopy: function(){//复制成功 
            $("<span id='msg'/>").insertAfter($('#copy_input')).text('复制成功'); 
        } 
    }); 
}); 
$(function(){ 
    $('#copy_input2').zclip({ 
        path: 'js/ZeroClipboard.swf', 
        copy: function(){//复制内容 
            return $('#code2').val(); 
        }, 
        afterCopy: function(){//复制成功 
            $("<span id='msg'/>").insertAfter($('#copy_input')).text('复制成功'); 
        } 
    }); 
}); 
</script>
</head>
<body>

<img src="yanjiuhuilogo.png" class="logo"/><br/>
<a href="index.html">首页</a><a href="index.html"><p>返回</p></a>
<h3>让TextView中展示的表情正确朗读（已正则表达式替代方式展示的表情）</h3>
<hr/>
<ol>
<li><h4>【问题描述】</h4>
<hr/>
<p>　　当表情展示的时候朗读为一串用户无法理解的字符串，如：“/：：wx”。用户无法通过这串字符串知道展示或输入的是什么表情。</p>
</li>
<li><h4>【问题代码】</h4>
<hr/>
<p>注：已正则表达式替代方式展示表情的方法见此解决方案的“附“。</p>
<textarea rows="14" cols="120" id="code1">
<?xml version="1.0" encoding="utf-8"?>
    <resources 
    xmlns:android="http://schemas.android.com/apk/res/android" 
    xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">    
   <string-array name="smiley_array">    
        <!--有几种表情就写几个item......-->
        <item>/::wx</item>
        <item>/::dk</item>
        <item>/::zd</item>
<item>/::kl</item>
<item>/::gx</item>    
    </string-array>    
</resources> 
</textarea><br/>
<a href="#" id="copy_input1" class="copy">复制内容</a> 
</li>
<li><h4>【问题解决方案描述】</h4>
<hr/>
<p>　　把要用正则表达式替代为表情的字符串定义为表情的名称，如“微笑”表情的字符串定义为：“/::微笑“，这样定义之后读屏会朗读为”微笑“（注：一般情况下符号是被读屏忽略不朗读出来的，所以朗读内容是：“微笑“），用户就知道此表情是”微笑“表情。</p>
</li>
<li><h4>【解决方案】</h4>
<hr/>
<textarea rows="14" cols="120" id="code2">
<?xml version="1.0" encoding="utf-8"?>
    <resources 
    xmlns:android="http://schemas.android.com/apk/res/android" 
    xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">    
   <string-array name="smiley_array">    
        <!--有几种表情就写几个item......-->
        <item>/::微笑</item>
        <item>/::大哭</item>
        <item>/::炸弹</item>
<item>/::可怜</item>
<item>/::恭喜</item>    
    </string-array>    
</resources>    
</textarea><br/>
<a href="#" id="copy_input2" class="copy">复制内容</a> 
</li>
<li><h4>【前后效果图对比】</h4>
<hr/>
<table>
<tr>
<td><img src="textview1.png" class="litu"/></td><td><img src="textview2.png" class="litu"/></td>
</tr>
<tr>
<td>优化前，屏幕阅读器朗读为“wx”</td><td>优化后，屏幕阅读器朗读为“微笑”</td></tr>
</table>
</li>
<li><h4>【扩展】</h4>
<hr/>
<p>在EditText（编辑框）展示表情的时候此种解决方案也试用。</p>
</li>
<li><h4>【更多】</h4>
<hr/>
<a href="biaoqingzhengze.html"><p>已正则表达式替代方式展示表情</p></a>
</li>
</ol>
</body>
</html>