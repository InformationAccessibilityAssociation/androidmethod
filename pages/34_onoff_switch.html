<!DOCTYPE html>

<html lang="zh-CN">
<head>
<title>利用textOn、TextOff给开关控件（Switch）添加状态提示</title>
<link rel="stylesheet" href="../style.css" />
<meta charset="utf-8">
<script type="text/javascript" src="js/jquery.js"></script>
<script type="text/javascript" src="js/jquery.zclip.min.js"></script>
<script type="text/javascript">
$(function(){ 
    $('#copy_input1').zclip({ 
        path: 'js/ZeroClipboard.swf', 
        copy: function(){//复制内容 
            return $('#code1').val(); 
        }, 
        afterCopy: function(){//复制成功 
            $("<span id='msg'/>").insertAfter($('#copy_input')).text('复制成功'); 
        } 
    }); 
}); 
$(function(){ 
    $('#copy_input2').zclip({ 
        path: 'js/ZeroClipboard.swf', 
        copy: function(){//复制内容 
            return $('#code2').val(); 
        }, 
        afterCopy: function(){//复制成功 
            $("<span id='msg'/>").insertAfter($('#copy_input')).text('复制成功'); 
        } 
    }); 
}); 
</script>
</head>
<body>
<div class="wrap">
<!-- header begin -->
<div class="header">
    <div ><a href="http://www.siaa.org.cn/"><img src="../logo.png" alt="信息无障碍研究会"  class="logo"/></a></div>
    <!-- nav bar begin -->
    <div class="nav-bar">
        <!-- nav menu begin -->
        <ul>
            <li><a href="../index.html">首页</a></li>
            <li><a href="../index.html">返回</a></li>
        </ul>
        <!-- nav menu end -->
    </div>
    <!-- nav bar end -->
</div>
<!-- header end -->

<!-- body begin -->
<div class="body">
    <h3>利用textOn、TextOff给开关控件（Switch）添加状态提示____20160526</h3>
    <hr />
    <div>
        <h4>【问题描述】</h4>
        <hr />
        <p>开关控件（Switch）有两个提示状态的属性android:textOn、android:textOff。这两个属性内的文本不会被显示到开关控件（Switch）上面，但是当用户使用屏幕阅读器的时候这两个属性会被朗读出来。开关（Switch）是开的时候朗读android:on中的内容，开关是关的时候朗读android:textOff的内容。开发者没有给这两个属性赋值的时候这两个属性分别被朗读为：“开”、“关”，用户很难通过这种提示了解打开或关闭了什么功能，或此开关控制的是什么。如果开发者提供android:textOn=”开灯”、android:textOff=”关灯”，这时候当开关（Switch）是打开的时候控件聚焦屏幕阅读器会朗读”开灯 开关“（“开关”是控件类型，屏幕阅读器自动识别的），点击从打开状态变成关闭状态的时候朗读为：“关灯”，这时候用户就能从这些描述清楚的知道此开关的功能。<br/>
注：android:textOn=””和android:textOff=””不会有任何状态的朗读，千万不要这样做，这样的话屏幕阅读器用户就不能知道开关的状态了。
</p><!--问题说明-->
    </div>
    <div>
        <h4>【问题代码】</h4>
        <hr />
        <p>下面的Switch没有提供android:textOn和android:textOff，所以他朗读默认的”开 开关”（或“关 开关”）。</p>
        <textarea rows="15" cols="120" aria-label="问题代码" id="code1">
<LinearLayout
	xmlns:android="http://schemas.android.com/apk/res/android"
	android:layout_width="match_parent"
	android:layout_height="match_parent"
	android:orientation="vertical">
	<TextView
		android:id="@+id/name_label"
		android:layout_width="match_parent"
		android:layout_height="wrap_content"
		android:text="电灯"/>
	<Switch
		android:id="@+id/switch0"
		android:layout_width="match_parent"
		android:layout_height="wrap_content"/>
</LinearLayout>
        </textarea><br/>
        <a href="#" id="copy_input1" class="copy">复制内容</a> 
    </div>
    <div>
        <h4>【问题解决方案描述】</h4>
        <hr />
        <p>开关控件（Switch）用android:textOn属性来描述打开的状态，用android:textOff属性来描述关闭的状态，用户能很清楚的知道此开关的功能，如android:textOn是“开灯”,android:textOff是”关灯，这两个属性的文本不会显示出来，当用户使用屏幕阅读器的时候会朗读这两个属性，当开关打开的时候朗读android:textOn，开关关闭的时候朗读android:textOff。</p>
    </div>
    <div>
        <h4>【解决方案】</h4>
        <hr />
		<p>下面的开关（Switch）控件提供了textOn和textOff。</p>
        <textarea rows="17" cols="120" aria-label="解决方案代码" id="code2">
<LinearLayout
	xmlns:android="http://schemas.android.com/apk/res/android"
	android:layout_width="match_parent"
	android:layout_height="match_parent"
	android:orientation="vertical">
	<TextView
		android:id="@+id/name_label"
		android:layout_width="match_parent"
		android:layout_height="wrap_content"
		android:text="电灯"/>
	<Switch
		android:id="@+id/switch0"
		android:layout_width="match_parent"
		android:layout_height="wrap_content"
		android:textOn="开灯"
		android:textOff="关灯"/>
</LinearLayout>
        </textarea><br/>
        <a href="#" id="copy_input2" class="copy">复制内容</a> 
    </div>
    <div>
        <h4>【前后效果图对比】</h4>
        <hr />
        <table>
            <tr>
                <td><img src="../images/34-1.png" class="litu" alt="" aria-labelledby="img1_label"/></td><td><img src="../images/34-2.png" class="litu" alt="" aria-labelledby="img2_label"/></td>
            </tr>
            <tr>
                <td id="img1_label">优化前，未设置textOn、textOff，聚焦switch控件，屏幕阅读器朗读“开启 开关” “关闭 开关”；</td><td id="img2_label">优化后，设置textOn为开灯，textOff为关灯，聚焦switch控件，屏幕阅读器朗读“开灯 开关””关灯 开关”；</td>
            </tr>
        </table>
    </div>
    <div>
        <h4>【扩展】</h4>
        <hr />
        <p></p>
    </div>
    <div>
        <h4>【更多】</h4>
        <hr />
        <ol></ol>
    </div>
</div>
<!-- body end -->

<!-- footer begin -->
<div class="footer">
</div>
<!-- footer end -->
</div>
<!-- wrap end -->
</body>
</html>
