<!DOCTYPE html>

<html lang="zh-CN">
<head>
<title>屏蔽无障碍焦点（触摸）</title>
<link rel="stylesheet" href="../style.css" />
<meta charset="utf-8">
<script type="text/javascript" src="js/jquery.js"></script>
<script type="text/javascript" src="js/jquery.zclip.min.js"></script>
<script type="text/javascript">
$(function(){ 
    $('#copy_input1').zclip({ 
        path: 'js/ZeroClipboard.swf', 
        copy: function(){//复制内容 
            return $('#code1').val(); 
        }, 
        afterCopy: function(){//复制成功 
            $("<span id='msg'/>").insertAfter($('#copy_input')).text('复制成功'); 
        } 
    }); 
}); 
$(function(){ 
    $('#copy_input2').zclip({ 
        path: 'js/ZeroClipboard.swf', 
        copy: function(){//复制内容 
            return $('#code2').val(); 
        }, 
        afterCopy: function(){//复制成功 
            $("<span id='msg'/>").insertAfter($('#copy_input')).text('复制成功'); 
        } 
    }); 
}); 
</script>
</head>
<body>
<div class="wrap">
<!-- header begin -->
<div class="header">
    <div ><a href="http://www.siaa.org.cn/"><img src="../logo.png" alt="信息无障碍研究会"  class="logo"/></a></div>
    <!-- nav bar begin -->
    <div class="nav-bar">
        <!-- nav menu begin -->
        <ul>
            <li><a href="../index.html">首页</a></li>
            <li><a href="../index.html">返回</a></li>
        </ul>
        <!-- nav menu end -->
    </div>
    <!-- nav bar end -->
</div>
<!-- header end -->

<!-- body begin -->
<div class="body">
    <h3>屏蔽无障碍焦点（触摸）</h3>
    <hr />
    <div>
        <h4>【问题描述】</h4>
        <hr />
        <p>一些背景图片、分隔符等不能操作没有什么实际意义的控件的焦点应该屏蔽，这样可以加快用焦点导航的用户浏览界面的速度，让用户更快的找到自己想操作的控件。在触摸屏用手势浏览的时候如果有大量的分隔符等没有意义的控件会导致用户滑动浏览的速度降低，影响用户使用产品的效率。</p><!--问题说明-->
    </div>
    <div>
        <h4>【问题代码】</h4>
        <hr />
        <p></p>
       
    </div>
    <div>
        <h4>【问题解决方案描述】</h4>
        <hr />
        <p>屏蔽无障碍焦点可以使用android:importantForAccessibility属性或setImportantForAccessibility()方法。这个属性有3个状态一个是no、yes、auto。No是代表对此控件对无障碍服务不重要，yes代表此控件对无障碍服务此控件重要,auto是代表此控件对于无障碍服务的重要性由系统判断。此解决方案针对开启TalkBack或其他屏幕阅读器用户用手势在触摸屏上浏览的时候屏蔽手势浏览的焦点。
 注：屏蔽焦点建议使用此方法，此方法同时可以屏蔽焦点导航设备的焦点，如键盘导航的焦点。 </p>
    </div>
    <div>
        <h4>【解决方案】</h4>
        <hr />
		<p>下面的代码利用android:importantForAccessibility属性把图标的焦点屏蔽了：</p>
        <textarea rows="30" cols="120" aria-label="解决方案代码" id="code2">
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout
	xmlns:android="http://schemas.android.com/apk/res/android"
	android:layout_width="match_parent"
	android:layout_height="match_parent"
	android:orientation="vertical">
	<TextView
		android:layout_width="match_parent"
		android:layout_height="30dp"
		android:text="倒计时时间"/>

	<Button
		android:layout_width="match_parent"
		android:layout_height="20dp"
		android:text="说明文本"
		android:focusable="false"/>

	<Button
		android:layout_width="match_parent"
		android:layout_height="50dp"
		android:text="开始"
		android:id="@+id/start"/>

	<Button
		android:layout_width="match_parent"
		android:layout_height="50dp"
		android:text="结束"
		android:id="@+id/stop"/>
</LinearLayout>
        </textarea><br/>
        <a href="#" id="copy_input2" class="copy">复制内容</a> 
    </div>
    <div>
        <h4>【前后效果图对比】</h4>
        <hr />
        <table>
            <tr>
                <td><img src="../images/23-1.png" class="litu" alt="" aria-labelledby="img1_label"/></td><td><img src="../images/23-1.png" class="litu" alt="" aria-labelledby="img2_label"/></td>
            </tr>
            <tr>
                <td id="img1_label">优化前，触摸滑动浏览，”说明文本“（上图中的图像按钮）按钮有焦点；</td><td id="img2_label">优化后，触摸滑动浏览，"说明文本"按钮焦点被屏蔽；</td>
            </tr>
        </table>
    </div>
    <div>
        <h4>【扩展】</h4>
        <hr />
        <p>相关资源：<a href="imgkeySecurityKeyboard.apk">以图片作为按键的安全键盘.apk</a></p>
    </div>
    <div>
        <h4>【更多】</h4>
        <hr />
        <ol></ol>
    </div>
</div>
<!-- body end -->

<!-- footer begin -->
<div class="footer">
</div>
<!-- footer end -->
</div>
<!-- wrap end -->
</body>
</html>
